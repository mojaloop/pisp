<svg xmlns="http://www.w3.org/2000/svg" height="4179" preserveAspectRatio="none" style="width:1595px;height:4179px" width="1595">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="216" x="686" y="28.708">
    PISPTransferDetailedAPI
  </text>
  <path fill="#DDD" stroke="#a80036" d="M1 40.953h104v4132.484H1z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="36.5" y="53.02">
    PISP
  </text>
  <path fill="#DDD" stroke="#a80036" d="M361.5 40.953h308v4132.484h-308z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="482" y="53.02">
    Mojaloop
  </text>
  <path fill="#DDD" stroke="#a80036" d="M945 40.953h76v4132.484h-76z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="956" y="53.02">
    DFSP A
  </text>
  <path fill="#DDD" stroke="#a80036" d="M1373 40.953h78v4132.484h-78z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="1385" y="53.02">
    DFSP B
  </text>
  <path stroke="#a80036" stroke-dasharray="5,5" d="M53 139.547v3931.297M396.5 139.547v3931.297M459.5 139.547v3931.297M612.5 139.547v3931.297M983 139.547v3931.297M1412 139.547v3931.297M1520 139.547v3931.297"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M5 104.25h92v30.297H5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="12" y="124.245">
    PISP Server
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M5 4069.844h92v30.297H5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="12" y="4089.839">
    PISP Server
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M365.5 104.25h59v30.297h-59z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="372.5" y="124.245">
    Switch
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M365.5 4069.844h59v30.297h-59z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="372.5" y="4089.839">
    Switch
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M438.5 104.25h39v30.297h-39z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="445.5" y="124.245">
    ALS
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M438.5 4069.844h39v30.297h-39z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="445.5" y="4089.839">
    ALS
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M560.5 104.25h101v30.297h-101z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="567.5" y="124.245">
    Auth-Service
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M560.5 4069.844h101v30.297h-101z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="567.5" y="4089.839">
    Auth-Service
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M949 87.953h64v46.594h-64z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="956" y="107.948">
    DFSP A
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="957" y="124.245">
    (Payer)
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M949 4069.844h64v46.594h-64z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="956" y="4089.839">
    DFSP A
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="957" y="4106.136">
    (Payer)
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1377 87.953h66v46.594h-66z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="1384.5" y="107.948">
    DFSP B
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1384" y="124.245">
    (Payee)
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1377 4069.844h66v46.594h-66z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="1384.5" y="4089.839">
    DFSP B
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1384" y="4106.136">
    (Payee)
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="1487" y="119.948">
    Bhavesh
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="1457" y="136.245">
    (+44 1234 5678)
  </text>
  <circle cx="1520" cy="49.953" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M1520 57.953v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="1487" y="4082.839">
    Bhavesh
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="1457" y="4099.136">
    (+44 1234 5678)
  </text>
  <circle cx="1520" cy="4112.438" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M1520 4120.438v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <path fill="#EEE" filter="url(#a)" stroke="#eee" d="M0 170.113h1588v3H0z"/>
  <path stroke="#000" d="M0 170.113h1588M0 173.113h1588"/>
  <path fill="#EEE" filter="url(#a)" stroke="#000" stroke-width="2" d="M718.5 159.547h151v23.133h-151z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="724.5" y="175.614">
    Agreement Phase
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M58 197.68h313v446H58z"/>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="296" x="62" y="213.747">
    POST /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="62" y="228.879">
    FSPIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="62" y="244.012">
    FSPIOP-Destination: dfspa
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="62" y="259.145">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="70" y="274.278">
    &quot;transactionRequestId&quot;: &quot;123&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="70" y="289.411">
    &quot;payee&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="78" y="304.543">
    &quot;partyIdInfo&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="86" y="319.676">
    &quot;partyIdType&quot;: &quot;MSISDN&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="86" y="334.809">
    &quot;partyIdentifier&quot;: &quot;+4412345678&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="86" y="349.942">
    &quot;fspId&quot;: &quot;dfspb&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="78" y="365.075">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="70" y="380.207">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="70" y="395.34">
    &quot;payer&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="78" y="410.473">
    &quot;partyIdType&quot;: &quot;THIRD_PARTY_LINK&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="78" y="425.606">
    &quot;partyIdentifier&quot;: &quot;qwerty-56789&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="78" y="440.739">
    &quot;fspId&quot;: &quot;dfspa&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="70" y="455.872">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="70" y="471.004">
    &quot;amountType&quot;: &quot;SEND&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="70" y="486.137">
    &quot;amount&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="78" y="501.27">
    &quot;amount&quot;: &quot;100&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="78" y="516.403">
    &quot;currency&quot;: &quot;USD&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="70" y="531.536">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="70" y="546.668">
    &quot;transactionType&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="78" y="561.801">
    &quot;scenario&quot;: &quot;TRANSFER&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="78" y="576.934">
    &quot;initiator&quot;: &quot;PAYER&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="78" y="592.067">
    &quot;initiatorType&quot;: &quot;CONSUMER&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="70" y="607.2">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="70" y="622.332">
    &quot;expiration&quot;: &quot;2020-06-15T22:17:28.985-01:00&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="62" y="637.465">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M385 666.664l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M53 670.664h338"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="60" y="665.598">
    POST /thirdpartyRequests/transactions
  </text>
  <path fill="#A80036" stroke="#a80036" d="M64 695.797l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M58 699.797h338"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="70" y="694.731">
    202 Accepted
  </text>
  <path fill="#A80036" stroke="#a80036" d="M971 724.93l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M397 728.93h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="404" y="723.864">
    POST /thirdpartyRequests/transactions
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 754.063l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M402 758.063h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="414" y="752.997">
    202 Accepted
  </text>
  <path stroke="#a80036" d="M983 802.328h42M1025 802.328v13M984 815.328h41"/>
  <path fill="#A80036" stroke="#a80036" d="M994 811.328l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="990" y="782.129">
    Lookup this
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="1067" y="782.129">
    payer
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="1107" y="782.129">
    , verify that they exist, and consent
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="990" y="797.262">
    is granted with a valid credential
  </text>
  <path stroke="#a80036" d="M983 844.461h42M1025 844.461v13M984 857.461h41"/>
  <path fill="#A80036" stroke="#a80036" d="M994 853.46l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="990" y="839.395">
    Generate a unique transactionId for this transaction request:
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1381" y="839.395">
    987
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M650 870.461h328v113H650z"/>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="320" x="654" y="886.528">
    PUT /thirdpartyRequests/transactions/123
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="654" y="901.661">
    FSPIOP-Source: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="654" y="916.793">
    FSPIOP-Destination: pispa
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="654" y="931.926">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="662" y="947.059">
    &quot;transactionId&quot;: &quot;987&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="662" y="962.192">
    &quot;transactionRequestState&quot;: &quot;RECEIVED&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="654" y="977.325">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 1006.523l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M402 1010.523h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="414" y="1005.457">
    PUT /thirdpartyRequests/transactions/123
  </text>
  <path fill="#A80036" stroke="#a80036" d="M971 1035.656l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M397 1039.656h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="404" y="1034.59">
    200 OK
  </text>
  <path fill="#A80036" stroke="#a80036" d="M64 1064.79l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M58 1068.789h338"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="70" y="1063.723">
    PUT /thirdpartyRequests/transactions/123
  </text>
  <path fill="#A80036" stroke="#a80036" d="M385 1093.922l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M53 1097.922h338"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="60" y="1092.856">
    200 OK
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M483 1110.922h495v668H483z"/>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="487" y="1126.989">
    POST /quotes
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="487" y="1142.122">
    FSPIOP-Source: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="487" y="1157.254">
    FSPIOP-Destination: dfspb
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="487" y="1172.387">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="495" y="1187.52">
    &quot;quoteId&quot;: &quot;456&quot;, //Set by the payer dfsp
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="495" y="1202.653">
    &quot;transactionId&quot;: &quot;987&quot;, //Set by the payer dfsp
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="479" x="495" y="1217.786">
    *&quot;transactionRequestId&quot;: &quot;123&quot;, //Relates to the original thirdpartyRequest!*
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="495" y="1232.918">
    &quot;payee&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="503" y="1248.051">
    &quot;partyIdInfo&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="511" y="1263.184">
    &quot;partyIdType&quot;: &quot;MSISDN&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="511" y="1278.317">
    &quot;partyIdentifier&quot;: &quot;+4412345678&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="511" y="1293.45">
    &quot;fspId&quot;: &quot;dfspb&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="503" y="1308.582">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="495" y="1323.715">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="495" y="1338.848">
    &quot;payer&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="503" y="1353.981">
    &quot;personalInfo&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="511" y="1369.114">
    &quot;complexName&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="519" y="1384.247">
    &quot;firstName&quot;: &quot;Ayesha&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="519" y="1399.379">
    &quot;lastName&quot;: &quot;Takia&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="511" y="1414.512">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="503" y="1429.645">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="503" y="1444.778">
    &quot;partyIdInfo&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="511" y="1459.911">
    &quot;partyIdType&quot;: &quot;THIRD_PARTY_LINK&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="487" y="1475.043">
    &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="511" y="1490.176">
    &quot;partyIdentifier&quot;: &quot;qwerty-56789&quot;,
  </text>
  <path stroke="#a80036" d="M487 1498.242h487M487 1500.242h487"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="511" y="1515.309">
    &quot;partyIdentifier&quot;: &quot;???&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="391" x="487" y="1530.442">
    &gt;&gt;&gt;&gt;&gt;&gt;&gt; d0b93bf726403683dc98b4f6b162c555d8aa85ee
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="511" y="1545.575">
    &quot;fspId&quot;: &quot;dfspa&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="503" y="1560.707">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="503" y="1575.84">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="495" y="1590.973">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="495" y="1606.106">
    &quot;amountType&quot;: &quot;SEND&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="495" y="1621.239">
    &quot;amount&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="503" y="1636.372">
    &quot;amount&quot;: &quot;100&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="503" y="1651.504">
    &quot;currency&quot;: &quot;USD&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="495" y="1666.637">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="495" y="1681.77">
    &quot;transactionType&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="503" y="1696.903">
    &quot;scenario&quot;: &quot;TRANSFER&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="503" y="1712.036">
    &quot;initiator&quot;: &quot;PAYER&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="503" y="1727.168">
    &quot;initiatorType&quot;: &quot;CONSUMER&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="495" y="1742.301">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="495" y="1757.434">
    &quot;note&quot;: &quot;quote note&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="487" y="1772.567">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 1801.766l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M402 1805.766h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="414" y="1800.7">
    POST /quotes
  </text>
  <path fill="#A80036" stroke="#a80036" d="M971 1830.898l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M397 1834.898h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="404" y="1829.832">
    202 Accepted
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1400 1860.031l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M397 1864.031h1009"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="404" y="1858.965">
    POST /quotes
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 1889.164l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M402 1893.164h1009"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="414" y="1888.098">
    202 Accepted
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M702 1906.164h276v310H702z"/>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="706" y="1922.231">
    PUT /quotes/456
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="706" y="1937.364">
    FSPIOP-Source: dfspb
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="706" y="1952.497">
    FSPIOP-Destination: dfspa
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="706" y="1967.629">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="714" y="1982.762">
    &quot;transferAmount&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="722" y="1997.895">
    &quot;amount&quot;: &quot;100&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="722" y="2013.028">
    &quot;currency&quot;: &quot;USD&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="714" y="2028.161">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="714" y="2043.293">
    &quot;payeeReceiveAmount&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="722" y="2058.426">
    &quot;amount&quot;: &quot;99&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="722" y="2073.559">
    &quot;currency&quot;: &quot;USD&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="714" y="2088.692">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="714" y="2103.825">
    &quot;payeeFspFee&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="722" y="2118.957">
    &quot;amount&quot;: &quot;1&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="722" y="2134.09">
    &quot;currency&quot;: &quot;USD&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="714" y="2149.223">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="714" y="2164.356">
    &quot;expiration&quot;: &quot;2020-06-15T12:00:00.000&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="714" y="2179.489">
    &quot;ilpPacket&quot;: &quot;...&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="714" y="2194.622">
    &quot;condition&quot;: &quot;...&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="706" y="2209.754">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 2238.953l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M402 2242.953h1009"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="414" y="2237.887">
    PUT /quotes/456
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1400 2268.086l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M397 2272.086h1009"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="404" y="2267.02">
    200 OK
  </text>
  <path fill="#A80036" stroke="#a80036" d="M971 2297.219l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M397 2301.219h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="404" y="2296.153">
    PUT /quotes/456
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 2326.352l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M402 2330.352h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="414" y="2325.286">
    200 OK
  </text>
  <path d="M699 2343.352v40h275v-30l-10-10H699" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M964 2343.352v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="705" y="2360.419">
    DFSPA has the quote, they can now ask
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="705" y="2375.551">
    the PISP for authorization
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M487 2397.617h491v265H487z"/>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="491" y="2413.684">
    POST /authorizations
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="491" y="2428.817">
    FSPIOP-Source: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="491" y="2443.95">
    FSPIOP-Destination: pispa
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="491" y="2459.082">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="499" y="2474.215">
    &quot;authorizationId&quot;: &quot;999&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="499" y="2489.348">
    &quot;authenticationType&quot;: TODO,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="267" x="499" y="2519.614">
    //transactionRequestId is our &apos;primary key&apos;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="499" y="2534.747">
    //to refer to this authorization
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="228" x="499" y="2549.879">
    &quot;transactionRequestId&quot;: &quot;123&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="499" y="2565.012">
    &quot;authenticationType&quot;: &quot;U2F&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="499" y="2580.145">
    &quot;retriesLeft&quot;: &quot;1&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="499" y="2595.278">
    &quot;transaction&quot;: &quot;TODO&quot;,...
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="499" y="2610.411">
    &quot;condition&quot;: &quot;...&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="475" x="499" y="2625.544">
    // SHA_256(canonicalJson(transaction)), but provided here for convenience
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="499" y="2640.676">
    &quot;challenge&quot;: &quot;...&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="491" y="2655.809">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 2685.008l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M402 2689.008h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="414" y="2683.942">
    POST /authorizations
  </text>
  <path fill="#A80036" stroke="#a80036" d="M971 2714.14l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M397 2718.141h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="404" y="2713.075">
    202 Accepted
  </text>
  <path fill="#A80036" stroke="#a80036" d="M64 2743.273l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M58 2747.273h338"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="70" y="2742.207">
    POST /authorizations
  </text>
  <path fill="#A80036" stroke="#a80036" d="M385 2772.406l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M53 2776.406h338"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="60" y="2771.34">
    202 Accepted
  </text>
  <path d="M58 2789.406v40h358v-30l-10-10H58" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M406 2789.406v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="64" y="2806.473">
    PISP checks the quote with the user,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="64" y="2821.606">
    and uses FIDO to sign the the QuoteResponse object
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M58 2843.672h435v204H58z"/>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="184" x="62" y="2859.739">
    PUT /authorizations/999
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="62" y="2874.872">
    FSPIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="62" y="2890.004">
    FSPIOP-Destination: dfspa
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="62" y="2905.137">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="70" y="2920.27">
    &quot;authenticationInfo&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="78" y="2935.403">
    &quot;authentication&quot;: &quot;U2F&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="78" y="2950.536">
    &quot;authenticationValue&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="403" x="86" y="2965.669">
    &quot;pinValue&quot;: &quot;&lt;base64 encoded binary - the signed challenge&gt;&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="86" y="2980.801">
    &quot;counter&quot;: &quot;1&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="78" y="2995.934">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="70" y="3011.067">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="70" y="3026.2">
    &quot;responseType&quot;: &quot;ENTERED&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="62" y="3041.332">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M385 3070.531l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M53 3074.531h338"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="60" y="3069.465">
    PUT /authorizations/999
  </text>
  <path fill="#A80036" stroke="#a80036" d="M64 3099.664l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M58 3103.664h338"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="70" y="3098.598">
    200 OK
  </text>
  <path fill="#A80036" stroke="#a80036" d="M971 3128.797l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M397 3132.797h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="404" y="3127.731">
    PUT /authorizations/999
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 3157.93l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M402 3161.93h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="414" y="3156.864">
    200 OK
  </text>
  <path stroke="#a80036" d="M983 3206.195h42M1025 3206.195v13M984 3219.195h41"/>
  <path fill="#A80036" stroke="#a80036" d="M994 3215.195l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="990" y="3185.997">
    Lookup the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="1065" y="3185.997">
    thirdpartyRequests/transaction
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="990" y="3201.129">
    request, get the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="1097" y="3201.129">
    consentId
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1173" y="3201.129">
    and
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="1201" y="3201.129">
    sourceAccountId
  </text>
  <path stroke="#a80036" d="M983 3263.461h42M1025 3263.461v13M984 3276.461h41"/>
  <path fill="#A80036" stroke="#a80036" d="M994 3272.46l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="990" y="3243.262">
    Confirm pispId from
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="1119" y="3243.262">
    PUT /authorizations/123
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="994" y="3258.395">
    matches the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="1079" y="3258.395">
    thirdpartyRequests/transaction
  </text>
  <path d="M752 3289.46v40h458v-30l-10-10H752" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M1200 3289.46v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="758" y="3306.528">
    DFSP has the signed condition
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="437" x="758" y="3321.661">
    For 3rd party FIDO, it now needs to make sure everything checks out
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M714 3343.727h264v174H714z"/>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="168" x="718" y="3359.794">
    POST /authentications
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="718" y="3374.926">
    FSPIOP-Source: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="718" y="3390.059">
    FSPIOP-Destination: central-auth
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="718" y="3405.192">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="726" y="3420.325">
    &quot;authenticationRequestId&quot;: &quot;888&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="726" y="3435.457">
    &quot;consentId&quot;: todo,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="726" y="3450.59">
    &quot;accountAddress&quot;: todo,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="726" y="3465.723">
    &quot;challenge: &quot;...&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="726" y="3480.856">
    //signed challenge by PISP
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="726" y="3495.989">
    &quot;response&quot;: &quot;...&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="718" y="3511.122">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 3540.32l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M402 3544.32h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="414" y="3539.254">
    POST /authentications
  </text>
  <path fill="#A80036" stroke="#a80036" d="M971 3569.453l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M397 3573.453h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="404" y="3568.387">
    202 Accepted
  </text>
  <path fill="#A80036" stroke="#a80036" d="M601 3598.586l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M397 3602.586h210"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="404" y="3597.52">
    POST /authentications
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 3627.719l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M402 3631.719h210"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="414" y="3626.653">
    202 Accepted
  </text>
  <path stroke="#a80036" d="M613 3660.852h42M655 3660.852v13M614 3673.852h41"/>
  <path fill="#A80036" stroke="#a80036" d="M624 3669.852l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="257" x="620" y="3655.786">
    Lookup this consent based on consentId
  </text>
  <path stroke="#a80036" d="M613 3702.984h42M655 3702.984v13M614 3715.984h41"/>
  <path fill="#A80036" stroke="#a80036" d="M624 3711.984l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="356" x="620" y="3697.919">
    Ensure the accountAddress matches what is in Consent
  </text>
  <path stroke="#a80036" d="M613 3760.25h42M655 3760.25v13M614 3773.25h41"/>
  <path fill="#A80036" stroke="#a80036" d="M624 3769.25l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="620" y="3740.051">
    Check that the signed bytes match the
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="620" y="3755.184">
    publickey we have stored for the consent
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M618 3786.25h254v98H618z"/>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="622" y="3802.317">
    PUT /authentications/888
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="622" y="3817.45">
    FSPIOP-Source: central-auth
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="622" y="3832.582">
    FSPIOP-Destination: dfspa
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="622" y="3847.715">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="630" y="3862.848">
    &quot;authenticationResponse&quot;: &quot;VERIFIED&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="622" y="3877.981">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 3907.18l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M402 3911.18h210"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="414" y="3906.114">
    PUT /authentications/888
  </text>
  <path fill="#A80036" stroke="#a80036" d="M601 3936.313l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M397 3940.313h210"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="404" y="3935.247">
    200 OK
  </text>
  <path fill="#A80036" stroke="#a80036" d="M971 3965.445l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M397 3969.445h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="404" y="3964.379">
    PUT /authentications/888
  </text>
  <path fill="#A80036" stroke="#a80036" d="M408 3994.578l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M402 3998.578h580"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="414" y="3993.512">
    200 OK
  </text>
  <path d="M795 4011.578v40h372v-30l-10-10H795" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M1157 4011.578v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="351" x="801" y="4028.645">
    DFSPA now knows that the user signed this transaction
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="801" y="4043.778">
    and can go ahead and initiate the transfer
  </text>
</svg>
