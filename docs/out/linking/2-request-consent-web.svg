<svg xmlns="http://www.w3.org/2000/svg" height="3295" preserveAspectRatio="none" style="width:3279px;height:3295px" width="3279">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="327" x="1472.5" y="28.708">
    PISP Linking: Request consent (Web)
  </text>
  <path fill="#DDD" stroke="#a80036" d="M662.5 40.953h73v3248.25h-73z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="665.5" y="53.02">
    Mojaloop
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#fff" d="M24 133.25h10v67.133H24z"/>
  <path stroke="#a80036" d="M24 133.25v67.133M34 133.25v67.133M24 133.25h10"/>
  <path fill="#FFF" filter="url(#a)" stroke="#fff" d="M24 228.383h10v290.125H24z"/>
  <path stroke="#a80036" d="M24 228.383v290.125M34 228.383v290.125M24 518.508h10"/>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M24 1396.883h10v97.398H24zM694 489.375h10v426.656h-10zM694 1141.891h10v284.125h-10zM694 2460.859h10v733.047h-10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M699 2976.445h10v217.461h-10zM1369 744.367h10v426.656h-10zM1369 2715.852h10v289.727h-10zM1721 1494.281h10v697.586h-10zM2260 1494.281h10v1699.625h-10z"/>
  <path stroke="#a80036" d="M29 123.25v10"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M29 133.25v28"/>
  <path stroke="#a80036" d="M29 161.25v39.133"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M29 200.383v28"/>
  <path stroke="#a80036" d="M29 228.383v2974.523M698.5 123.25v10"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M698.5 133.25v28"/>
  <path stroke="#a80036" d="M698.5 161.25v39.133"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M698.5 200.383v28"/>
  <path stroke="#a80036" d="M698.5 228.383v2974.523M1373.5 123.25v10"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1373.5 133.25v28"/>
  <path stroke="#a80036" d="M1373.5 161.25v39.133"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1373.5 200.383v28"/>
  <path stroke="#a80036" d="M1373.5 228.383v2974.523M1726 123.25v10"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1726 133.25v28"/>
  <path stroke="#a80036" d="M1726 161.25v39.133"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1726 200.383v28"/>
  <path stroke="#a80036" d="M1726 228.383v2974.523M2265 123.25v10"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M2265 133.25v28"/>
  <path stroke="#a80036" d="M2265 161.25v39.133"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M2265 200.383v28"/>
  <path stroke="#a80036" d="M2265 228.383v2974.523M2879.5 123.25v10"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M2879.5 133.25v28"/>
  <path stroke="#a80036" d="M2879.5 161.25v39.133"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M2879.5 200.383v28"/>
  <path stroke="#a80036" d="M2879.5 228.383v2974.523"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M5 87.953h44v30.297H5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="12" y="107.948">
    PISP
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M5 3201.906h44v30.297H5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="12" y="3221.901">
    PISP
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M667.5 87.953h59v30.297h-59z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="674.5" y="107.948">
    Switch
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M667.5 3201.906h59v30.297h-59z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="674.5" y="3221.901">
    Switch
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1346.5 87.953h51v30.297h-51z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="1353.5" y="107.948">
    DFSP
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1346.5 3201.906h51v30.297h-51z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="1353.5" y="3221.901">
    DFSP
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="1707" y="119.948">
    User
  </text>
  <circle cx="1726" cy="49.953" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M1726 57.953v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="1707" y="3214.901">
    User
  </text>
  <circle cx="1726" cy="3228.203" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M1726 3236.203v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M2212 87.953h102v30.297h-102z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="2219" y="107.948">
    WebBrowser
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M2212 3201.906h102v30.297h-102z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="2219" y="3221.901">
    WebBrowser
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M2787.5 87.953h181v30.297h-181z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="167" x="2794.5" y="107.948">
    DFSPAuthorizeSimulator
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M2787.5 3201.906h181v30.297h-181z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="167" x="2794.5" y="3221.901">
    DFSPAuthorizeSimulator
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#fff" d="M24 133.25h10v67.133H24z"/>
  <path stroke="#a80036" d="M24 133.25v67.133M34 133.25v67.133M24 133.25h10"/>
  <path fill="#FFF" filter="url(#a)" stroke="#fff" d="M24 228.383h10v290.125H24z"/>
  <path stroke="#a80036" d="M24 228.383v290.125M34 228.383v290.125M24 518.508h10"/>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M24 1396.883h10v97.398H24zM694 489.375h10v426.656h-10zM694 1141.891h10v284.125h-10zM694 2460.859h10v733.047h-10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M699 2976.445h10v217.461h-10zM1369 744.367h10v426.656h-10zM1369 2715.852h10v289.727h-10zM1721 1494.281h10v697.586h-10zM2260 1494.281h10v1699.625h-10z"/>
  <path d="M5 166.25v25h1391v-15l-10-10H5" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M1386 166.25v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="783" x="302.75" y="183.317">
    The user initiated some sort of account linking by choosing the appropriate DFSP from a screen inside the PISP application.
  </text>
  <path fill="#EEE" filter="url(#a)" stroke="#eee" d="M0 248.949h3272v3H0z"/>
  <path stroke="#000" d="M0 248.949h3272M0 251.949h3272"/>
  <path fill="#EEE" filter="url(#a)" stroke="#000" stroke-width="2" d="M1577.5 238.383h117v23.133h-117z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="1583.5" y="254.45">
    Success case
  </text>
  <path fill="#A80036" stroke="#a80036" d="M682 485.375l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M34 489.375h654"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="41" y="385.946">
    REQ-1
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="89" y="287.582">
    POST /consentRequests
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="113" y="302.715">
    FSIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="113" y="317.848">
    FSIOP-Destination: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="105" y="332.981">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="113" y="348.114">
    consentRequestId: &quot;456&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="113" y="363.247">
    scopes: [
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="129" y="378.379">
    {
  </text>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="504" x="145" y="378.379">
    accountId: &quot;dfsp.username.1234&quot;, // This is *optional* for web.
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="145" y="393.512">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="129" y="408.645">
    { accountId: &quot;dfsp.username.5678&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="145" y="423.778">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="113" y="438.911">
    ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="113" y="454.043">
    authChannels: [ &quot;Web&quot;, &quot;OTP&quot; ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="113" y="469.176">
    callbackUri: &quot;pisp-app://callback...
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="401" y="469.176">
    &quot;
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="97" y="484.309">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M40 514.508l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M34 518.508h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="46" y="513.442">
    REQ-2
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="94" y="513.442">
    202 Accepted
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1357 740.367l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M704 744.367h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="711" y="640.938">
    REQ-3
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="759" y="542.575">
    POST /consentRequests
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="783" y="557.707">
    FSIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="783" y="572.84">
    FSIOP-Destination: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="775" y="587.973">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="783" y="603.106">
    consentRequestId: &quot;456&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="783" y="618.239">
    scopes: [
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="799" y="633.372">
    { accountId: &quot;dfsp.username.1234&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="815" y="648.504">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="799" y="663.637">
    { accountId: &quot;dfsp.username.5678&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="815" y="678.77">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="783" y="693.903">
    ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="783" y="709.036">
    authChannels: [ &quot;Web&quot;, &quot;OTP&quot; ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="783" y="724.168">
    callbackUri: &quot;pisp-app://callback...
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1071" y="724.168">
    &quot;
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="767" y="739.301">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M715 769.5l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M709 773.5h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="721" y="768.434">
    REQ-4
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="769" y="768.434">
    202 Accepted
  </text>
  <path stroke="#a80036" d="M1379 802.633h42M1421 802.633v13M1380 815.633h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1390 811.633l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="1386" y="797.567">
    DFSP-1
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="1443" y="797.567">
    Verify the consentRequests is valid or not?
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2868 840.766l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1379 844.766h1495"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="1386" y="839.7">
    SIM-1
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="1430" y="839.7">
    POST /store/consentRequests/456
  </text>
  <path stroke="#a80036" d="M2880 873.898h42M2922 873.898v13M2881 886.898h41"/>
  <path fill="#A80036" stroke="#a80036" d="M2891 882.898l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="2887" y="868.832">
    SIM-2
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="2931" y="868.832">
    store consentRequest details
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1390 912.031l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M1384 916.031h1495"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="1396" y="910.965">
    SIM-3
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="1440" y="910.965">
    201 Created
  </text>
  <path fill="#A80036" stroke="#a80036" d="M715 1137.89l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M709 1141.891h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="721" y="1038.461">
    REQ-5
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="769" y="940.098">
    PUT /consentRequests/456
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="793" y="955.231">
    FSIOP-Source: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="793" y="970.364">
    FSIOP-Destination: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="785" y="985.497">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="793" y="1000.629">
    scopes: [
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="809" y="1015.762">
    { accountId: &quot;dfsp.username.1234&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="825" y="1030.895">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="809" y="1046.028">
    { accountId: &quot;dfsp.username.5678&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="825" y="1061.161">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="793" y="1076.293">
    ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="793" y="1091.426">
    authChannels: [ &quot;Web&quot; ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="793" y="1106.559">
    callbackUri: &quot;pisp-app://callback...
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1081" y="1106.559">
    &quot;
  </text>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="536" x="793" y="1121.692">
    authUri: &quot;dfspa.com/authorize?consentRequestId=456&quot; // This is new!
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="777" y="1136.825">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1362 1167.023l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M704 1171.023h664"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="711" y="1165.957">
    REQ-6
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="759" y="1165.957">
    202 Accepted
  </text>
  <path fill="#A80036" stroke="#a80036" d="M45 1392.883l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M39 1396.883h654"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="51" y="1293.454">
    REQ-7
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="99" y="1195.09">
    PUT /consentRequests/456
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="123" y="1210.223">
    FSIOP-Source: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="123" y="1225.356">
    FSIOP-Destination: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="115" y="1240.489">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="123" y="1255.622">
    scopes: [
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="139" y="1270.754">
    { accountId: &quot;dfsp.username.1234&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="155" y="1285.887">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="139" y="1301.02">
    { accountId: &quot;dfsp.username.5678&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="155" y="1316.153">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="123" y="1331.286">
    ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="123" y="1346.418">
    authChannels: [ &quot;Web&quot; ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="123" y="1361.551">
    callbackUri: &quot;pisp-app://callback...
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="411" y="1361.551">
    &quot;
  </text>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="536" x="123" y="1376.684">
    authUri: &quot;dfspa.com/authorize?consentRequestId=456&quot; // This is new!
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="107" y="1391.817">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M687 1422.016l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M34 1426.016h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="41" y="1420.95">
    REQ-8
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="89" y="1420.95">
    200 OK
  </text>
  <path d="M5 1439.016v25h1391v-15l-10-10H5" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M1386 1439.016v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="779" x="272.75" y="1456.082">
    At this point, the PISP knows that the Web authChannel is in use and the PISP App should redirect the user to the provided
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="1055.75" y="1456.082">
    authUri
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1111.75" y="1456.082">
    .
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2248 1490.281l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M29 1494.281h2225"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="36" y="1489.215">
    SIM-4
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="80" y="1489.215">
    window.location &lt;- authUri ==&gt;
  </text>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="352" x="336" y="1489.215">
    GET dfspa.com/authorize?consentRequestId=456
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="688" y="1489.215">
    &amp;callbackUri=pisp-app://callback...
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2868 1519.414l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M2270 1523.414h604"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="2277" y="1518.348">
    SIM-5
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="2321" y="1518.348">
    GET
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="513" x="2350" y="1518.348">
    /authorize?consentRequestId=456&amp;callbackUri=pisp-app://callback...
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2281 1548.547l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M2275 1552.547h604"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="2287" y="1547.481">
    SIM-6
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="2331" y="1547.481">
    200 OK: send
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="2420" y="1547.481">
    /authorize
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="2498" y="1547.481">
    single page application (SPA)
  </text>
  <path stroke="#a80036" d="M2270 1581.68h42M2312 1581.68v13M2271 1594.68h41"/>
  <path fill="#A80036" stroke="#a80036" d="M2281 1590.68l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="2277" y="1576.614">
    SIM-7
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="2321" y="1576.614">
    RENDER:
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="2381" y="1576.614">
    login form
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2248 1619.813l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1731 1623.813h523"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="1738" y="1618.747">
    SIM-8
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="1782" y="1618.747">
    SUBMIT
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="1835" y="1618.747">
    username &amp; password
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2868 1709.477l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M2270 1713.477h604"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="2277" y="1678.145">
    SIM-9
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="2321" y="1647.879">
    POST /login
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="2329" y="1663.012">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="2345" y="1678.145">
    username,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="2345" y="1693.278">
    password,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="2329" y="1708.411">
    }
  </text>
  <path stroke="#a80036" d="M2880 1757.742h42M2922 1757.742v13M2881 1770.742h41"/>
  <path fill="#A80036" stroke="#a80036" d="M2891 1766.742l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="2887" y="1745.11">
    SIM-10
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="2940" y="1737.543">
    verify User&apos;s credentials
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="2940" y="1752.676">
    take action on
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="225" x="3035" y="1752.676">
    TTK defined rule for username
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="3260" y="1752.676">
    &quot;
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2281 1795.875l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M2275 1799.875h604"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="2287" y="1794.809">
    SIM-11
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="2340" y="1794.809">
    201 OK: user authorized
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2868 1825.008l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M2270 1829.008h604"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="2277" y="1823.942">
    SIM-12
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="2330" y="1823.942">
    GET /store/consentRequests/456
  </text>
  <path stroke="#a80036" d="M2880 1858.141h42M2922 1858.141v13M2881 1871.141h41"/>
  <path fill="#A80036" stroke="#a80036" d="M2891 1867.14l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="2887" y="1853.075">
    SIM-13
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="2940" y="1853.075">
    find consentRequest details for id=456
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2281 1896.273l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M2275 1900.273h604"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="2287" y="1895.207">
    SIM-14
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="343" x="2340" y="1895.207">
    200 OK: consent requests details in response payload
  </text>
  <path stroke="#a80036" d="M2270 1944.539h42M2312 1944.539v13M2271 1957.539h41"/>
  <path fill="#A80036" stroke="#a80036" d="M2281 1953.54l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="2277" y="1931.907">
    SIM-15
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="2330" y="1924.34">
    RENDER
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="221" x="2386" y="1924.34">
    ask the User to grant consent
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="2611" y="1924.34">
    for
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="171" x="2632" y="1924.34">
    consentRequestId=456
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2248 1982.672l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1731 1986.672h523"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="1738" y="1981.606">
    SIM-16
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="1791" y="1981.606">
    SUBMIT:
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="1848" y="1981.606">
    consent granted
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2868 2072.336l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M2270 2076.336h604"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="2277" y="2041.004">
    SIM-17
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="2330" y="2010.739">
    POST /authorize
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="2338" y="2025.872">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="2354" y="2041.004">
    consentRequestId=456
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="2514" y="2041.004">
    ,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="2354" y="2056.137">
    username,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="2338" y="2071.27">
    }
  </text>
  <path stroke="#a80036" d="M2880 2120.602h42M2922 2120.602v13M2881 2133.602h41"/>
  <path fill="#A80036" stroke="#a80036" d="M2891 2129.602l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="2887" y="2107.969">
    SIM-18
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="2940" y="2100.403">
    generate a
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="3014" y="2100.403">
    secret=&quot;some-secret&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="2940" y="2115.536">
    take action on
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="225" x="3035" y="2115.536">
    TTK defined rule for username
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2281 2158.734l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M2275 2162.734h604"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="2287" y="2157.669">
    SIM-19
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="2340" y="2157.669">
    201 OK: response: {
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="156" x="2473" y="2157.669">
    secret:&quot;some-secret&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="2629" y="2157.669">
    &quot; }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1737 2187.867l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M1731 2191.867h528"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="1743" y="2186.801">
    SIM-20
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="1796" y="2186.801">
    redirects to callbackUri=&quot;pisp-app://callback...?
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="2095" y="2186.801">
    secret=some-secret
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="2243" y="2186.801">
    &quot;
  </text>
  <path fill="#EEE" filter="url(#a)" stroke="#eee" d="M0 2220.434h3272v3H0z"/>
  <path stroke="#000" d="M0 2220.434h3272M0 2223.434h3272"/>
  <path fill="#EEE" filter="url(#a)" stroke="#000" stroke-width="2" d="M1582 2209.867h108V2233h-108z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="1588" y="2225.934">
    Failure case
  </text>
  <path fill="#A80036" stroke="#a80036" d="M682 2456.86l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M29 2460.859h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="36" y="2357.43">
    REQ-1
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="84" y="2259.067">
    POST /consentRequests
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="108" y="2274.2">
    FSIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="108" y="2289.332">
    FSIOP-Destination: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="100" y="2304.465">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="108" y="2319.598">
    consentRequestId: &quot;456&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="108" y="2334.731">
    scopes: [
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="124" y="2349.864">
    {
  </text>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="504" x="140" y="2349.864">
    accountId: &quot;dfsp.username.1234&quot;, // This is *optional* for web.
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="140" y="2364.997">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="124" y="2380.129">
    { accountId: &quot;dfsp.username.5678&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="140" y="2395.262">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="108" y="2410.395">
    ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="108" y="2425.528">
    authChannels: [ &quot;Web&quot;, &quot;OTP&quot; ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="108" y="2440.661">
    callbackUri: &quot;pisp-app://callback...
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="396" y="2440.661">
    &quot;
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="92" y="2455.794">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M40 2485.992l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M34 2489.992h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="46" y="2484.926">
    REQ-2
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="94" y="2484.926">
    202 Accepted
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1357 2711.852l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M704 2715.852h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="711" y="2612.422">
    REQ-3
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="759" y="2514.059">
    POST /consentRequests
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="783" y="2529.192">
    FSIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="783" y="2544.325">
    FSIOP-Destination: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="775" y="2559.457">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="783" y="2574.59">
    consentRequestId: &quot;456&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="783" y="2589.723">
    scopes: [
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="799" y="2604.856">
    { accountId: &quot;dfsp.username.1234&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="815" y="2619.989">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="799" y="2635.122">
    { accountId: &quot;dfsp.username.5678&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="815" y="2650.254">
    actions: [ &quot;accounts.transfer&quot;, &quot;accounts.getBalance&quot; ] },
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="783" y="2665.387">
    ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="783" y="2680.52">
    authChannels: [ &quot;Web&quot;, &quot;OTP&quot; ],
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="783" y="2695.653">
    callbackUri: &quot;pisp-app://callback...
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1071" y="2695.653">
    &quot;
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="767" y="2710.786">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M715 2740.984l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M709 2744.984h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="721" y="2739.919">
    REQ-4
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="769" y="2739.919">
    202 Accepted
  </text>
  <path stroke="#a80036" d="M1379 2774.117h42M1421 2774.117v13M1380 2787.117h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1390 2783.117l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="1386" y="2769.051">
    DFSP-1
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="1443" y="2769.051">
    Verify the consentRequests is valid or not?
  </text>
  <path d="M5 2800.117v25h1391v-15l-10-10H5" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M1386 2800.117v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="595" x="396.75" y="2817.184">
    We respond with an error that the consentRequests is invalid so the PISP can inform the user.
  </text>
  <path fill="#A80036" stroke="#a80036" d="M720 2972.445l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M714 2976.445h654"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="726" y="2910.848">
    REQ-5
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="774" y="2850.317">
    PUT /consentRequests/456/error
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="798" y="2865.45">
    FSIOP-Source: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="798" y="2880.582">
    FSIOP-Destination: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="782" y="2895.715">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="798" y="2910.848">
    errorInformation : {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="814" y="2925.981">
    errorCode: &quot;7204&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="544" x="814" y="2941.114">
    errorDescription: &quot;FSP does not support any requested scope actions&quot;
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="798" y="2956.247">
    }
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="782" y="2971.379">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1362 3001.578l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M709 3005.578h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="716" y="3000.512">
    REQ-6
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="764" y="3000.512">
    200 OK
  </text>
  <path fill="#A80036" stroke="#a80036" d="M45 3151.773l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M39 3155.773h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="51" y="3090.176">
    REQ-7
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="99" y="3029.645">
    PUT /consentRequests/456/error
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="123" y="3044.778">
    FSIOP-Source: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="123" y="3059.911">
    FSIOP-Destination: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="107" y="3075.044">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="123" y="3090.176">
    errorInformation : {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="139" y="3105.309">
    errorCode: &quot;7204&quot;,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="544" x="139" y="3120.442">
    errorDescription: &quot;FSP does not support any requested scope actions&quot;
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="123" y="3135.575">
    }
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="107" y="3150.707">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M687 3180.906l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M34 3184.906h659"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="41" y="3179.84">
    REQ-8
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="89" y="3179.84">
    200 OK
  </text>
</svg>
